/* =============================================================================
   
   üìÅ THEME.CSS ‚Äî –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º
   
   –ß—Ç–æ –∑–¥–µ—Å—å:
   - –ü–æ–ª–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã (light, sea, dark, system)
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —á–µ—Ä–Ω–∏–ª–∞ (--ink-*) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤)
   
   ‚ö†Ô∏è –ü–†–ò–ù–¶–ò–ü: –∫–∞–∂–¥–∞—è —Ç–µ–º–∞ –∑–∞–¥–∞—ë—Ç –í–°–ï —Ç–æ–∫–µ–Ω—ã —è–≤–Ω–æ, –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
   
   ============================================================================= */

/* ========== LIGHT THEME ========== */
html[data-theme="light"] {
  /* --- –ü–ê–õ–ò–¢–†–ê --- */
  --bg: #e0ac9d; /* peachy page background */
  --text: #484a47; /* dark slate text */
  --text-muted: rgba(72, 74, 71, 0.78);
  --accent: #5c6d70; /* slate accent */
  --warn: #e88873; /* coral warning */

  /* --- –®–ê–ü–ö–ê –ò –§–£–¢–ï–† (—Ç—ë–º–Ω–∞—è —à–∞–ø–∫–∞, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç) --- */
  --header-bg: #484a47;
  --header-fg: #e0ac9d;
  --header-border: rgba(224, 172, 157, 0.25);

  /* --- –ü–û–í–ï–†–•–ù–û–°–¢–ò --- */
  --surface-0: var(--bg);
  --surface-1: rgba(92, 109, 112, 0.1);
  --surface-2: rgba(92, 109, 112, 0.18);

  /* --- –ì–†–ê–ù–ò–¶–´ --- */
  --hairline: rgba(72, 74, 71, 0.15);
  --border: rgba(72, 74, 71, 0.2);

  /* --- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ï –ß–ï–†–ù–ò–õ–ê (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã) --- */
  --ink-strong: rgba(72, 74, 71, 0.95);
  --ink: rgba(72, 74, 71, 0.82);
  --ink-weak: rgba(72, 74, 71, 0.62);

  /* --- HOVER/ACTIVE --- */
  --btn-hover-bg: rgba(92, 109, 112, 0.12);
  --btn-active-bg: rgba(92, 109, 112, 0.22);

  /* --- –ê–ö–¢–ò–í–ù–´–ô –ß–ò–ü --- */
  --chip-active-bg: rgba(92, 109, 112, 0.18);
  --chip-active-border: #5c6d70;
  --chip-active-fg: #5c6d70;

  /* --- –ö–û–ú–ü–û–ù–ï–ù–¢–´ --- */
  --section-bg: rgba(0, 0, 0, 0.03);
  --section-outline: rgba(0, 0, 0, 0.08);
  --section-head-bg: rgba(0, 0, 0, 0.045);
  --section-head-sep: rgba(0, 0, 0, 0.1);

  --pagination-bg: var(--bg);
  --pagination-divider: var(--border);

  --toast-bg: #ffffff;
  --overlay: rgba(0, 0, 0, 0.4);

  /* --- FOCUS --- */
  --focus: rgba(0, 128, 255, 0.25);
  --focus-border: rgba(0, 128, 255, 0.45);

  /* --- –ü–û–ü–û–í–ï–†–´ (–Ω–∞—Å–ª–µ–¥—É—é—Ç —à–∞–ø–∫—É) --- */
  --popover-bg: var(--header-bg);
  --popover-fg: var(--header-fg);
  --menu-hover-bg: rgba(224, 172, 157, 0.14);
}

/* ========== SEA THEME ========== */
html[data-theme="sea"] {
  /* --- –ü–ê–õ–ò–¢–†–ê --- */
  --bg: #c5c9a4; /* olive gray */
  --text: #476a6f; /* deep teal */
  --text-muted: rgba(71, 106, 111, 0.78);
  --accent: #519e8a; /* teal */
  --warn: #ecbeb4; /* coral */

  /* --- –®–ê–ü–ö–ê –ò –§–£–¢–ï–† (—Ç—ë–º–Ω–∞—è —à–∞–ø–∫–∞, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç) --- */
  --header-bg: #476a6f;
  --header-fg: #c5c9a4;
  --header-border: rgba(197, 201, 164, 0.25);

  /* --- –ü–û–í–ï–†–•–ù–û–°–¢–ò --- */
  --surface-0: var(--bg);
  --surface-1: rgba(71, 106, 111, 0.08);
  --surface-2: rgba(71, 106, 111, 0.16);

  /* --- –ì–†–ê–ù–ò–¶–´ --- */
  --hairline: rgba(71, 106, 111, 0.15);
  --border: rgba(71, 106, 111, 0.2);

  /* --- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ï –ß–ï–†–ù–ò–õ–ê --- */
  --ink-strong: rgba(71, 106, 111, 0.95);
  --ink: rgba(71, 106, 111, 0.82);
  --ink-weak: rgba(71, 106, 111, 0.62);

  /* --- HOVER/ACTIVE --- */
  --btn-hover-bg: rgba(71, 106, 111, 0.1);
  --btn-active-bg: rgba(71, 106, 111, 0.16);

  /* --- –ê–ö–¢–ò–í–ù–´–ô –ß–ò–ü --- */
  --chip-active-bg: rgba(71, 106, 111, 0.18);
  --chip-active-border: #519e8a;
  --chip-active-fg: #476a6f;

  /* --- –ö–û–ú–ü–û–ù–ï–ù–¢–´ --- */
  --section-bg: rgba(11, 91, 106, 0.07);
  --section-outline: rgba(11, 91, 106, 0.18);
  --section-head-bg: rgba(11, 91, 106, 0.1);
  --section-head-sep: rgba(11, 91, 106, 0.22);

  --pagination-bg: var(--bg);
  --pagination-divider: var(--border);

  --toast-bg: #ffffff;
  --overlay: rgba(0, 0, 0, 0.4);

  /* --- FOCUS --- */
  --focus: rgba(0, 128, 255, 0.25);
  --focus-border: rgba(0, 128, 255, 0.45);

  /* --- –ü–û–ü–û–í–ï–†–´ --- */
  --popover-bg: var(--header-bg);
  --popover-fg: var(--header-fg);
  --menu-hover-bg: rgba(197, 201, 164, 0.14);
}

/* ========== DARK THEME ========== */
html[data-theme="dark"] {
  /* --- –ü–ê–õ–ò–¢–†–ê --- */
  --bg: #0b0d12; /* dark base */
  --text: #e5e7eb; /* light gray */
  --text-muted: #9ca3af;
  --accent: #60a5fa; /* blue */
  --warn: #e0ac9d; /* peachy */

  /* --- –®–ê–ü–ö–ê –ò –§–£–¢–ï–† --- */
  --header-bg: #1f1f1f;
  --header-fg: #f2f2f2;
  --header-border: rgba(255, 255, 255, 0.12);

  /* --- –ü–û–í–ï–†–•–ù–û–°–¢–ò (‚ö†Ô∏è –°–í–ï–¢–õ–ï–ï —Ñ–æ–Ω–∞ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ!) --- */
  --surface-0: var(--bg);
  --surface-1: #111319;
  --surface-2: #1a1d24;

  /* --- –ì–†–ê–ù–ò–¶–´ --- */
  --hairline: rgba(255, 255, 255, 0.12);
  --border: #2a2f3a;

  /* --- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ï –ß–ï–†–ù–ò–õ–ê (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) --- */
  --ink-strong: rgba(255, 255, 255, 0.96);
  --ink: rgba(255, 255, 255, 0.85);
  --ink-weak: rgba(255, 255, 255, 0.65);

  /* --- HOVER/ACTIVE --- */
  --btn-hover-bg: rgba(255, 255, 255, 0.08);
  --btn-active-bg: rgba(255, 255, 255, 0.14);

  /* --- –ê–ö–¢–ò–í–ù–´–ô –ß–ò–ü --- */
  --chip-active-bg: rgba(255, 255, 255, 0.12);
  --chip-active-border: var(--accent);
  --chip-active-fg: var(--text);

  /* --- –ö–û–ú–ü–û–ù–ï–ù–¢–´ --- */
  --section-bg: rgba(255, 255, 255, 0.045);
  --section-outline: rgba(255, 255, 255, 0.1);
  --section-head-bg: rgba(255, 255, 255, 0.065);
  --section-head-sep: rgba(255, 255, 255, 0.14);

  --pagination-bg: #111319;
  --pagination-divider: var(--border);

  --toast-bg: #1a1d24;
  --overlay: rgba(0, 0, 0, 0.5);

  /* --- FOCUS --- */
  --focus: rgba(0, 128, 255, 0.25);
  --focus-border: rgba(0, 128, 255, 0.45);

  /* --- –ü–û–ü–û–í–ï–†–´ --- */
  --popover-bg: var(--header-bg);
  --popover-fg: var(--header-fg);
  --menu-hover-bg: rgba(255, 255, 255, 0.1);
}

/* ========== SYSTEM THEME ========== */
/* System light –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ—Ñ–æ–ª—Ç—ã –∏–∑ base.css */

/* System dark ‚Üí –∫–æ–ø–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω—ã dark */
@media (prefers-color-scheme: dark) {
  html[data-theme="system"] {
    --bg: #0b0d12;
    --text: #e5e7eb;
    --text-muted: #9ca3af;
    --accent: #60a5fa;
    --warn: #e0ac9d;

    --header-bg: #1f1f1f;
    --header-fg: #f2f2f2;
    --header-border: rgba(255, 255, 255, 0.12);

    --surface-0: var(--bg);
    --surface-1: #111319;
    --surface-2: #1a1d24;

    --hairline: rgba(255, 255, 255, 0.12);
    --border: #2a2f3a;

    --ink-strong: rgba(255, 255, 255, 0.96);
    --ink: rgba(255, 255, 255, 0.85);
    --ink-weak: rgba(255, 255, 255, 0.65);

    --btn-hover-bg: rgba(255, 255, 255, 0.08);
    --btn-active-bg: rgba(255, 255, 255, 0.14);

    --chip-active-bg: rgba(255, 255, 255, 0.12);
    --chip-active-border: var(--accent);
    --chip-active-fg: var(--text);

    --section-bg: rgba(255, 255, 255, 0.045);
    --section-outline: rgba(255, 255, 255, 0.1);
    --section-head-bg: rgba(255, 255, 255, 0.065);
    --section-head-sep: rgba(255, 255, 255, 0.14);

    --pagination-bg: #111319;
    --pagination-divider: var(--border);

    --toast-bg: #1a1d24;
    --overlay: rgba(0, 0, 0, 0.5);

    --focus: rgba(0, 128, 255, 0.25);
    --focus-border: rgba(0, 128, 255, 0.45);

    --popover-bg: var(--header-bg);
    --popover-fg: var(--header-fg);
    --menu-hover-bg: rgba(255, 255, 255, 0.1);
  }
}

/* === –ö–û–ú–ü–û–ù–ï–ù–¢–ù–´–ï –ê–ö–¶–ï–ù–¢–´ (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤) === */

/* –®–∞–ø–∫–∞ –∏ –°—Ç–∞—Ç—É—Å–±–∞—Ä –∏—Å–ø–æ–ª—å–∑—É—é—Ç header-—Ç–æ–∫–µ–Ω—ã */
.app-header,
#app-header,
#app-status {
  background: var(--header-bg);
  color: var(--header-fg);
  border-color: var(--header-border);
}

/* 
   –ö–æ–Ω—Ç–µ–∫—Å—Ç "—à–∞–ø–∫–∞/–ø–æ–∏—Å–∫":
   - —Å–≤–æ–∏ —á–µ—Ä–Ω–∏–ª–∞ (--ink-*)
   - —Å–≤–æ–∏ –∏–Ω–ø—É—Ç—ã (--input-*)
   –≠—Ç–æ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç:
   - —à–∞–ø–∫—É
   - —Å—Ç–∞—Ç—É—Å–±–∞—Ä
   - –ø–æ–ø–æ–≤–µ—Ä –ø–æ–∏—Å–∫–∞ –≤ —à–∞–ø–∫–µ
   - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
*/
.app-header,
#app-header,
#app-status,
.header-search-popover,
#globalSearchResults {
  /* –ß–µ—Ä–Ω–∏–ª–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–∞/–∏–∫–æ–Ω–æ–∫ –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ */
  --ink-strong: color-mix(in oklab, var(--header-fg) 96%, transparent 4%);
  --ink: color-mix(in oklab, var(--header-fg) 85%, transparent 15%);
  --ink-weak: color-mix(in oklab, var(--header-fg) 65%, transparent 35%);

  /* –ò–Ω–ø—É—Ç—ã (–ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ç.–ø.) */
  --input-bg: transparent;
  --input-text: var(--header-fg);
  --input-border: var(--header-fg);
  --input-placeholder: color-mix(in oklab, var(--header-fg) 65%, transparent);
  --input-focus-bg: color-mix(in oklab, var(--header-fg) 12%, transparent);
  --input-focus-border: var(--header-fg);
}

/* Toast action –≤ —Ç—ë–º–Ω—ã—Ö —Ç–µ–º–∞—Ö ‚Äî –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–µ–µ */
html[data-theme="dark"] .toast-action {
  background: var(--surface-1);
  border-color: var(--accent);
  color: var(--accent);
}

html[data-theme="dark"] .toast-action:hover,
html[data-theme="dark"] .toast-action:focus-visible {
  background: var(--accent);
  color: #fff;
  outline: none;
}

@media (prefers-color-scheme: dark) {
  html[data-theme="system"] .toast-action {
    background: var(--surface-1);
    border-color: var(--accent);
    color: var(--accent);
  }

  html[data-theme="system"] .toast-action:hover,
  html[data-theme="system"] .toast-action:focus-visible {
    background: var(--accent);
    color: #fff;
    outline: none;
  }
}
