/* =============================================================================
   
   üìÅ LAYOUT.CSS ‚Äî –ö–∞—Ä–∫–∞—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   
   –ß—Ç–æ –∑–¥–µ—Å—å:
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π layout (#linkapp-root, #app-body)
   - –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (max-width, margins)
   - Responsive (–º–æ–±–∏–ª—å–Ω—ã–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏)
   - File menu (header)
   - Legacy: —Å—Ç–∞—Ä–∞—è sessions-table, saves-list
   
   ============================================================================= */

/* === –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ö–ê–†–ö–ê–° / –°–ö–†–û–õ–õ === */

/* –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
html,
body,
#linkapp-root {
  overflow-x: clip;
}

/* –±–∞–∑–æ–≤–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
html,
body {
  height: 100%;
  margin: 0;
}

/* –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
#linkapp-root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* –µ–¥–∏–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞ –¥–ª—è header/body/pagination/status */
#app-header,
#app-body,
#pagination,
#app-status {
  max-width: none !important;
  width: 100% !important;
  margin: 0 !important;
}

/* –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–æ–ª–ª–∏—Ä—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç */
#app-body {
  flex: 1 1 auto;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  min-height: var(--computed-body-min-h, auto); /* JS –≤—ã—á–∏—Å–ª—è–µ—Ç */
  padding-bottom: calc(
    var(--statusbar-h, 28px) + var(--pagination-h, 44px) + 8px
  );
}

/* —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö¬ª */
.body-empty {
  opacity: 0.7;
  font-size: 1em;
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
}

/* === File menu (Save As / Open –≤ —Ö–µ–¥–µ—Ä–µ) === */
/* –ü–æ —Å–º—ã—Å–ª—É —ç—Ç–æ —á–∞—Å—Ç—å header UI, –Ω–æ –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –∑–¥–µ—Å—å. */

.file-menu-wrap {
  position: relative;
  display: inline-block;
}

.file-menu-popover {
  position: absolute;
  right: 0;
  top: calc(100% + 6px);
  min-width: 220px;
  background: var(--surface-1);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-1);
  padding: 6px;
  z-index: var(--z-dropdown);
}

.file-menu-popover[hidden] {
  display: none;
}

.file-menu-popover > button {
  width: 100%;
  text-align: left;
  border: 0;
  background: transparent;
  color: var(--text);
  padding: 8px 10px;
  border-radius: var(--radius-sm);
  cursor: pointer;
}

.file-menu-popover > button:hover {
  background: var(--surface-2);
}

.file-menu-popover > hr {
  border: 0;
  height: 1px;
  background: var(--border);
  margin: 6px 0;
}

/* === MOBILE EDGE-TO-EDGE === */

@media (max-width: 900px) {
  /* —É–±–∏—Ä–∞–µ–º –±–æ–∫–æ–≤—ã–µ –ø–æ–ª—è —É –∫–æ—Ä–Ω—è */
  #linkapp-root {
    --page-gutter: 0;
  }

  /* —ç—Ç–∏ –±–ª–æ–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º */
  #app-header,
  #app-status {
    max-width: none;
    margin-left: 0;
    margin-right: 0;
    width: 100%;
  }

  /* —à–∞–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ ‚Äî –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
  .app-header .header-inner {
    max-width: none;
    margin-inline: 0;
    padding-inline: 2px;
  }

  /* —Ç–µ–ª–æ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –ø–æ–ª—è */
  #app-body {
    padding-inline: 8px;
    padding-bottom: calc(
      var(--safe-bottom, 0px) + var(--statusbar-h, 28px) +
        var(--pagination-h, 44px) + 8px
    );
  }
}

/* === DESKTOP: —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç === */

@media (min-width: 901px) {
  #app-body {
    max-width: var(--content-max, 1100px);
    margin-inline: auto;
    padding-inline: var(--page-gutter, 12px);
    box-sizing: border-box;
    padding-bottom: calc(
      var(--safe-bottom, 0px) + var(--statusbar-h, 28px) +
        var(--pagination-h, 44px) + 8px
    );
  }
}
